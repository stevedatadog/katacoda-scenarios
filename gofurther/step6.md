# Working with Facets

Now that we have all our logs parsed and enhanced we can start adding our attributes as facets.

**Note:** only new logs attributes are taken into account by the facets.

1. From the Log Explorer, find the url attribute on one of the logs we parsed.
1. Click on the attribute and choose Create facet for @http.url:
   ![Creating facet](gofurther/assets/creating_facet.png)

1. Configure your facet:
   ![Configuring facet](gofurther/assets/configuring_facet.png)
   *Facets can be used to filter, either on a string value or on a double/int range.*

1. Repeat for the **response_time** attribute

## Search

Here are different searches to try out:

* Search for all logs with status_code above 400
  
    `@http.status_code:>400`
  
* Find all logs from the user John
  
    `@user_name:"john"`

## Log Analytics

So far we have looked at raw and processed log lines. Turning the contents of a log into attributes and facets can be incredibly powerful, but turning them into graphs takes it to a whole new level.

Look at the icons to the left of the filter bar at the top of the window. You'll see one icon that looks like a chart. The chart displayed is a count of log lines or attributes that match the current query. Based on what you have learned so far, try out some options to make a few different graphs. 

  ![Log graph](gofurther/assets/log_graph.png)

Try to display:

  * The top http.url
  * The top http.url according to the duration
  * The top http.url from user:john with a 4xx or 5xx status code

Notice that you can then export the graph to a timeboard.

## Monitor

If you have taken the Datadog 101 course, you will have learned about monitors. You can also build monitors from logs. 

From the New Monitor window, choose Logs. Define a query and how you want to alerts to fire.

For instance, we could monitor the amount of `5xx` or `4xx` that are generated by our stack at any given moment.

![Log monitor](gofurther/assets/log_monitor.png)
